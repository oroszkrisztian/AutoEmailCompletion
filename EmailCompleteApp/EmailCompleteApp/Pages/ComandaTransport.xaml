<UserControl x:Class="EmailCompleteApp.Pages.ComandaTransport"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    
    <UserControl.Resources>
        <!-- Light theme color scheme -->
        <SolidColorBrush x:Key="BackgroundColor" Color="#F8F9FA"/>
        <SolidColorBrush x:Key="SurfaceColor" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="PrimaryColor" Color="#007BFF"/>
        <SolidColorBrush x:Key="PrimaryHover" Color="#0056B3"/>
        <SolidColorBrush x:Key="TextColor" Color="#212529"/>
        <SolidColorBrush x:Key="TextMuted" Color="#6C757D"/>
        <SolidColorBrush x:Key="BorderColor" Color="Black"/>
        <SolidColorBrush x:Key="BorderFocus" Color="#007BFF"/>
        <SolidColorBrush x:Key="SendEmailHover" Color="#20C997"/>

        <!-- TextBox style -->
        <Style x:Key="ModernTextBoxStyle" TargetType="TextBox">
            <Setter Property="Background" Value="{StaticResource SurfaceColor}"/>
            <Setter Property="Foreground" Value="{StaticResource TextColor}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="VerticalContentAlignment" Value="Top"/>
            <Setter Property="CaretBrush" Value="{StaticResource TextColor}"/>
            <Setter Property="SelectionBrush" Value="{StaticResource PrimaryColor}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                        Margin="0"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="BorderBrush" Value="{StaticResource BorderFocus}"/>
                                <Setter Property="BorderThickness" Value="2"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="BorderBrush" Value="{StaticResource PrimaryColor}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        
    
        
        <!-- Custom DatePicker  -->
        <Style x:Key="ModernDatePickerStyle" TargetType="DatePicker">
            <Setter Property="Background" Value="{StaticResource SurfaceColor}"/>
            <Setter Property="Foreground" Value="{StaticResource TextColor}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="SelectedDateFormat" Value="Short"/>
            <Setter Property="Template">    
                <Setter.Value>
                    <ControlTemplate TargetType="DatePicker">
                        <Border x:Name="BorderDate"
                                Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <!-- Text input area -->
                                <DatePickerTextBox x:Name="DatePickerTextInput" 
                                                 Grid.Column="0"
                                                 Background="Transparent"
                                                 BorderThickness="0"
                                                 Padding="{TemplateBinding Padding}"
                                                 FontSize="{TemplateBinding FontSize}"
                                                 Foreground="{TemplateBinding Foreground}"
                                                 VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                                 IsHitTestVisible="True"
                                                 Margin="0,0,0,0"
                                                 Text="{Binding SelectedDate, RelativeSource={RelativeSource TemplatedParent}, StringFormat=dd/MM/yyyy}"
                                                 MaxLength="10">
                                    <DatePickerTextBox.Style>
                                        <Style TargetType="DatePickerTextBox">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="DatePickerTextBox">
                                                        <Border Background="{TemplateBinding Background}"
                                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                                Padding="{TemplateBinding Padding}">
                                                            <ScrollViewer x:Name="PART_ContentHost" 
                                                                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                        Margin="0"/>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <!-- Disable all hover and focus effects -->
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <!-- Do nothing -->
                                                            </Trigger>
                                                            <Trigger Property="IsFocused" Value="True">
                                                                <!-- Do nothing -->
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </DatePickerTextBox.Style>
                                </DatePickerTextBox>
                                
                                <!-- Calendar button -->
                                <Button x:Name="PART_Button" 
                                      Grid.Column="1"
                                      Background="Transparent"
                                      BorderThickness="0"
                                      Width="60"
                                      Height="{TemplateBinding Height}"
                                      Cursor="Hand"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"
                                      Margin="0,0,-10,0">
                                    <Button.Content>
                                        <Path Data="M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,19H5V8H19V19M7,10H12V15H7V10Z" 
                                              Fill="{StaticResource PrimaryColor}" 
                                              Width="20" 
                                              Height="20"
                                              Stretch="Uniform"/>
                                    </Button.Content>
                                </Button>
                                
                                <!-- Calendar popup -->
                                <Popup x:Name="PART_Popup" 
                                       AllowsTransparency="True"
                                       Placement="Bottom"
                                       PlacementTarget="{Binding ElementName=DatePickerTextInput}"
                                       StaysOpen="False">
                                    <Border Background="White" 
                                            BorderBrush="{StaticResource BorderColor}" 
                                            BorderThickness="1" 
                                            CornerRadius="6" 
                                            Padding="5">
                                        <Calendar x:Name="PART_Calendar" 
                                                 DisplayMode="Month" 
                                                 SelectionMode="SingleDate"
                                                 SelectedDate="{Binding SelectedDate, RelativeSource={RelativeSource TemplatedParent}}"/>
                                    </Border>
                                </Popup>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="BorderDate" Property="BorderBrush" Value="{StaticResource BorderFocus}"/>
                                <Setter TargetName="BorderDate" Property="BorderThickness" Value="2"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="BorderDate" Property="BorderBrush" Value="{StaticResource BorderFocus}"/>
                                
                            </Trigger>
                            <EventTrigger RoutedEvent="Button.Click" SourceName="PART_Button">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <BooleanAnimationUsingKeyFrames Storyboard.TargetName="PART_Popup" Storyboard.TargetProperty="IsOpen">
                                            <DiscreteBooleanKeyFrame KeyTime="0:0:0" Value="True"/>
                                        </BooleanAnimationUsingKeyFrames>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                            <EventTrigger RoutedEvent="Calendar.SelectedDatesChanged" SourceName="PART_Calendar">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <BooleanAnimationUsingKeyFrames Storyboard.TargetName="PART_Popup" Storyboard.TargetProperty="IsOpen">
                                            <DiscreteBooleanKeyFrame KeyTime="0:0:0" Value="False"/>
                                        </BooleanAnimationUsingKeyFrames>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    
        
        
    </UserControl.Resources>
    
    <Grid Background="{StaticResource BackgroundColor}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Header row with title and button -->
        <Grid Grid.Row="0" Margin="20,20,20,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <!-- Email Type title -->
            <TextBlock Text="Comanda Transport" 
                       FontSize="24" 
                       FontWeight="Bold"
                       Margin="0,0,40,0"
                       Foreground="{StaticResource TextColor}"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"/>
            
            <!-- Button -->
            <Button Grid.Row="0"
                    Content="Send Email"
                    Background="{StaticResource PrimaryColor}"
                    Foreground="White"
                    BorderThickness="0"
                    Padding="16,8"
                    FontSize="14"
                    FontWeight="SemiBold"
                    Cursor="Hand"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Click="OnSendClick">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border x:Name="ButtonBorder"
                                            Background="{TemplateBinding Background}"
                                            CornerRadius="6"
                                            Padding="{TemplateBinding Padding}">
                                        <ContentPresenter HorizontalAlignment="Center" 
                                                        VerticalAlignment="Center"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource SendEmailHover}"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Button.Style>
            </Button>
        </Grid>
        
        <!-- Main content with tabs (headers fixed) -->
        <TabControl Grid.Row="1" Margin="0,0,20,0">
                <TabItem Header="Capac">
                    <ScrollViewer VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Disabled">
                    <StackPanel MaxWidth="600" Margin="10">
                        <TextBlock Text="CLIENT:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                        <TextBox x:Name="CapacClientTextBox" Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,16"/>

                        <TextBlock Text="RUTA:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                        <TextBox x:Name="CapacRutaTextBox" Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,16"/>

                        <TextBlock Text="DATA:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                        <DatePicker x:Name="CapacDataDatePicker" Style="{StaticResource ModernDatePickerStyle}" SelectedDateFormat="Short" IsTodayHighlighted="True"/>
                        <Border Height="8" Background="Transparent"/>

                        <TextBlock Text="NUMAR INMATRICULARE:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                        <TextBox x:Name="CapacNumarInmatriculareTextBox" Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,16"/>

                        <TextBlock Text="TRANSPORTATOR:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                        <TextBox x:Name="CapacTransportatorTextBox" Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,16"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="120"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <StackPanel Grid.Column="0" Grid.Row="0">
                                <TextBlock Text="PRET:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                                <TextBox x:Name="CapacPretTextBox" Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,16"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2" Grid.Row="0">
                                <TextBlock Text="Currency:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                                <TextBox x:Name="CapacCurrencyTextBox" Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,16"/>
                            </StackPanel>
                        </Grid>

                        <TextBlock Text="Cantitate incarcata:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                        <TextBox x:Name="CapacCantitateTextBox" Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,16"/>

                        <TextBlock Text="Factura client:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                        <TextBox x:Name="CapacFacturaClientTextBox" Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,16"/>

                        <TextBlock Text="Factura caraus:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                        <TextBox x:Name="CapacFacturaCarausTextBox" Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,16"/>
                    </StackPanel>
                    </ScrollViewer>
                </TabItem>
                <TabItem Header="Comanda Transport">
                    <ScrollViewer VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Disabled">
                    <StackPanel MaxWidth="600" Margin="10">
                        <!-- Input Fields in requested order -->
                        <TextBlock Text="Nr.Tank:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                        <TextBox x:Name="nrTank" Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,16"/>

                        <!-- Date fields side by side -->
                        <Grid Margin="0,0,0,16" Height="74">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Date Pickup:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                                <DatePicker x:Name="DatePickup" Style="{StaticResource ModernDatePickerStyle}" SelectedDateFormat="Short" IsTodayHighlighted="True" Text="dd/mm/yyyy"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Date Deliver:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                                <DatePicker x:Name="DateDeliver" Style="{StaticResource ModernDatePickerStyle}" SelectedDateFormat="Short" IsTodayHighlighted="True"/>
                            </StackPanel>
                        </Grid>

                        <!-- Pickup and deliver address-->
                        <TextBlock Text="Address 1:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                        <TextBox x:Name="Address1TextBox" Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,16"/>

                        <TextBlock Text="Address 2:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                        <TextBox x:Name="Address2TextBox" Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,16"/>

                        <!-- Description -->
                        <TextBlock Text="Description:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                        <TextBox x:Name="DescriptionTextBox" Style="{StaticResource ModernTextBoxStyle}" Height="150" AcceptsReturn="True" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto" Margin="0,0,0,16"/>

                        <!-- Max days -->
                        <TextBlock Text="Max Days:" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextColor}" Margin="0,0,0,4"/>
                        <TextBox x:Name="MaxDaysTextBox" Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,16"/>
                    </StackPanel>
                    </ScrollViewer>
                </TabItem>
            </TabControl>
    </Grid>
</UserControl> 